DROP TABLE PERSON;

CREATE TABLE PERSON(
    ID      NUMBER(5),
    NAME    VARCHAR2(30)
);

ALTER TABLE PERSON ADD HP VARCHAR2(20);
DESC PERSON;
COMMIT;

ALTER TABLE PERSON RENAME COLUMN HP TO TEL;

ALTER TABLE PERSON MODIFY TEL VARCHAR2(13);
DESC PERSON;

ALTER TABLE PERSON DROP COLUMN TEL;

COMMIT;

--p349
CREATE TABLE DEPT_SEQUENCE
AS SELECT * FROM DEPT WHERE 1 <> 1;

SELECT * FROM DEPT_SEQUENCE;
--시퀀스 만들기
CREATE SEQUENCE SEQ_DEPT_SEQUENCE
 INCREMENT BY 10
 START WITH 10
 MAXVALUE 90
 MINVALUE 0
 NOCYCLE
 CACHE 2;
 
 INSERT INTO DEPT_SEQUENCE (DEPTNO, DNAME, LOC)
 VALUES (seq_dept_sequence.nextval, 'DATABASE', 'ANDONG');
 
 SELECT * FROM DEPT_SEQUENCE;
 
 SELECT SEQ_DEPT_SEQUENCE.CURRVAL FROM DUAL;
 
 ALTER SEQUENCE SEQ_DEPT_SEQUENCE
  INCREMENT BY 3
  MAXVALUE 99
  CYCLE;
  
  DROP SEQUENCE SEQ_DEPT_SEQUENCE;

 --실습 14-6
 CREATE TABLE TABLE_NOTNULL2(
    LOGIN_ID VARCHAR2(20) CONSTRAINT AAA_MY_ID_NOTNULL NOT NULL,
    LOGIN_PWD VARCHAR2(20) CONSTRAINT AAA_MY_PWD_NOTNULL NOT NULL,
    TEL VARCHAR2(20)
);

SELECT OWNER, CONSTRAINT_NAME, CONSTRAINT_TYPE, TABLE_NAME
FROM USER_CONSTRAINTS;

-- 추가로 제약이 없는 컬럼에 제약(CONSTRAINT)를 줄 수 있다.
ALTER TABLE TABLE_NOTNULL2
MODIFY(TEL NOT NULL);

DESC TABLE_NOTNULL2;

ALTER TABLE TABLE_NOTNULL2
MODIFY(TEL NULL);

ALTER TABLE TABLE_NOTNULL2
MODIFY(TELCONSTRAINT AAA_MY_NOTNULL3 NOT NULL);

ALTER TABLE TABLE_NOTNULL2
RENAME CONSTRAINT AAA_MY_NOTNULL TO AAA_BBB;

--실습 14-29
DROP TABLE TABLE_TABLE_PK;
CREATE TABLE TABLE_TABLE_PK(
    LOGIN_ID VARCHAR2(20) PRIMARY KEY,
    LOGIN_PAW VARCHAR2(20) NOT NULL,
    TEL VARCHAR2(20)
);
DESC TABLE_TABLE_PK;
